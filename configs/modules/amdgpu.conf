# AMD GPU kernel module configuration
# Optimized for hybrid setups with AMD iGPU as primary

# Enable DRM kernel mode setting
options amdgpu modeset=1

# Enable display core (DC) for better display support
options amdgpu dc=1

# Enable power management features
options amdgpu ppfeaturemask=0xffffffff

# Enable GPU recovery on hang
options amdgpu gpu_recovery=1

# Enable runtime power management
options amdgpu runpm=1

# Audio over HDMI/DP support
options amdgpu audio=1

# Enable experimental features (use with caution)
# options amdgpu exp_hw_support=1

# CIK (Sea Islands) and SI (Southern Islands) support
options amdgpu cik_support=1
options amdgpu si_support=1

# Disable radeon driver for CIK and SI to use amdgpu instead
options radeon cik_support=0
options radeon si_support=0